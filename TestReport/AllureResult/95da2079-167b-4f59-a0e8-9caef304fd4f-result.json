{"name": "Login_success_账号密码正确，登录成功", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.Error: selector: expected string, got number", "trace": "self = <Test_login.TestLogin object at 0x1072c1510>, page = <Page url='https://drv-dev-16.shimorelease.com/login'>\nCaseData = {'url': '/login', '功能': '登陆', '密码': 'Aa1234567.', '是否执行': 'Y', ...}\n\n    @pytest.mark.run(order=1)\n    @AllurePretty.AllurePretty_Warpper\n    @pytest.mark.parametrize(\"CaseData\",ReadYaml(os.path.join(Config.test_datas_dir,\"TestLogin.yaml\")).read())\n    def test_login(self,page,CaseData):\n        new_page=LoginPage(page)\n        #AllurePretty(page,CaseData).AllurePretty()\n>       new_page.goto_login_page(CaseData[\"url\"])\n\nTestCase/Test_login.py:21: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nPages/LoginPage/LoginPage.py:20: in goto_login_page\n    self.ele_to_be_visible_force(self.username,timeout=10)\nBasePage/BasePage.py:85: in ele_to_be_visible_force\n    self.page.wait_for_selector(500)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/sync_api/_generated.py:8334: in wait_for_selector\n    self._sync(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_page.py:348: in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_frame.py:317: in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_connection.py:62: in send\n    return await self._connection.wrap_api_call(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_connection.py:492: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Channel object at 0x1076b2390>, method = 'waitForSelector', params = {'selector': 500}, return_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        callback = self._connection._send_message_to_server(\n            self._object, method, params\n        )\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._errors.Error: selector: expected string, got number\n\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_connection.py:100: Error"}, "steps": [{"name": "打开登陆界面", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.Error: selector: expected string, got number\n", "trace": "  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/Users/alin/UI_Test/Pages/LoginPage/LoginPage.py\", line 20, in goto_login_page\n    self.ele_to_be_visible_force(self.username,timeout=10)\n  File \"/Users/alin/UI_Test/BasePage/BasePage.py\", line 85, in ele_to_be_visible_force\n    self.page.wait_for_selector(500)\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/sync_api/_generated.py\", line 8334, in wait_for_selector\n    self._sync(\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_page.py\", line 348, in wait_for_selector\n    return await self._main_frame.wait_for_selector(**locals_to_params(locals()))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_frame.py\", line 317, in wait_for_selector\n    await self._channel.send(\"waitForSelector\", locals_to_params(locals()))\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_connection.py\", line 62, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_connection.py\", line 492, in wrap_api_call\n    return await cb()\n           ^^^^^^^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/playwright/_impl/_connection.py\", line 100, in inner_send\n    result = next(iter(done)).result()\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "parameters": [{"name": "url", "value": "'/login'"}], "start": 1766650977889, "stop": 1766650979824}, {"name": "添加失败截图", "status": "passed", "attachments": [{"name": "失败截图:", "source": "ceb8974a-a528-45bf-85a7-d04b34657cfb-attachment.png", "type": "image/png"}], "start": 1766650979996, "stop": 1766650982068}], "parameters": [{"name": "CaseData", "value": "{'用例编号': 'Login_success', '功能': '登陆', '是否执行': 'Y', '用例标题': '账号密码正确，登录成功', '账号': 'test@shimo.im', '密码': 'Aa1234567.', 'url': '/login'}"}], "start": 1766650977888, "stop": 1766650979827, "uuid": "fefb574a-6c44-4e55-8e86-cc4413b75d00", "historyId": "ea94e41d20386f6dfe8f9052cfae72c5", "testCaseId": "27e394f74400437ca3970cfc3e604229", "fullName": "TestCase.Test_login.TestLogin#test_login", "labels": [{"name": "feature"}, {"name": "story", "value": "登陆"}, {"name": "severity"}, {"name": "tag", "value": "run(order=1)"}, {"name": "parentSuite", "value": "TestCase"}, {"name": "suite", "value": "Test_login"}, {"name": "subSuite", "value": "TestLogin"}, {"name": "host", "value": "AlindeMacBook-Pro.local"}, {"name": "thread", "value": "89814-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "TestCase.Test_login"}]}